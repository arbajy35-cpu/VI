<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VI</title>

<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <h3>Nova</h3>
    <i class="fas fa-xmark" id="closeSidebar"></i>
  </div>

  <div class="chat-history">
    <div class="chat-item active">New chat</div>
    <div class="chat-item">Help me write</div>
    <div class="chat-item">Brainstorm ideas</div>
  </div>

  <button id="testBtn">Test Server</button>
  <p id="testResult"></p>

  <div class="sidebar-footer">
    <div class="side-btn"><i class="fas fa-gear"></i> Settings</div>
    <div class="side-btn"><i class="fas fa-user"></i> Account</div>
  </div>
</div>

<div class="overlay" id="overlay"></div>

<!-- TOP BAR -->
<header class="topbar">
  <button class="icon-btn" id="menuBtn">
    <i class="fas fa-bars"></i>
  </button>

  <div class="try-pill" id="tryGoBtn">
    <span class="dot"></span>
    <span>Try Go</span>
  </div>

  <div class="icon-group">
    <i class="far fa-user"></i>
    <i class="fas fa-globe"></i>
  </div>
</header>

<!-- MAIN -->
<main class="main">
  <section class="hero">
    <h1>What can I help with?</h1>

    <div class="actions">
      <button><i class="fas fa-image"></i>Create image</button>
      <button><i class="fas fa-lightbulb"></i>Brainstorm</button>
      <button><i class="fas fa-pen"></i>Help me write</button>
      <button><i class="fas fa-plus"></i>More</button>
    </div>
  </section>
</main>

<div class="input-bar">
  <button class="plus">+</button>
  <div class="pill">
    <input type="text" placeholder="Ask Nova...">
    <button class="mic">ğŸ¤</button>
    <button class="send">â¤</button>
  </div>
</div>

<!-- ATTACHMENT SHEET -->
<div id="attachOverlay" class="attach-overlay" onclick="closeAttach()"></div>
<div id="attachSheet" class="attach-sheet">
  <div class="attach-drag"></div>
  <div class="attach-list">
    <button class="attach-item" onclick="openCamera()">ğŸ“· <span>Camera</span></button>
    <button class="attach-item" onclick="openPhotos()">ğŸ–¼ <span>Photos</span></button>
    <button class="attach-item" onclick="openFiles()">ğŸ“ <span>Files</span></button>
  </div>
</div>

<!-- HIDDEN INPUTS -->
<input type="file" id="cameraInput" accept="image/*" capture="environment" hidden>
<input type="file" id="photoInput" accept="image/*" hidden>
<input type="file" id="fileInput" hidden>

<!-- PREMIUM OVERLAY -->
<div class="premium-overlay" id="premiumOverlay"></div>

<!-- PREMIUM SHEET -->
<div class="premium-sheet" id="premiumSheet">
  <div class="drag"></div>
  <h2 class="premium-title">âš¡ VIPro Console</h2>
  <p class="sub power-line">Unleash the full reasoning engine. Smarter â€¢ Faster â€¢ Unlimited</p>

  <div class="power-grid">
    <div class="p-item free">ğŸ”’ Daily limit: 10 messages</div>
    <div class="p-item free">ğŸ§  Standard AI brain</div>
    <div class="p-item pro">âš¡ Unlimited conversations</div>
    <div class="p-item pro">ğŸ§  VI-X reasoning engine</div>
    <div class="p-item pro">ğŸš€ Priority responses</div>
    <div class="p-item pro">ğŸ›¡ï¸ Cooldown-free, full access</div>
    <div class="p-item pro">ğŸ¨ Enhanced UI & UX effects</div>
    <div class="p-item pro">ğŸ’¡ Smart suggestions & templates</div>
  </div>

  <button class="buy-btn">Unlock VI Pro</button>
</div>

<!-- MAIN SCRIPT -->
<script src="js/script.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  /* Try Go â†’ Premium */
  const tryGoBtn = document.getElementById("tryGoBtn");
  if (tryGoBtn) {
    tryGoBtn.addEventListener("click", function () {
      if (typeof openPremium === "function") openPremium();
    });
  }

  /* Close premium on overlay */
  const premiumOverlay = document.getElementById("premiumOverlay");
  if (premiumOverlay) {
    premiumOverlay.addEventListener("click", function () {
      if (typeof closePremium === "function") closePremium();
    });
  }
});
</script>

<!-- LIVE ERROR LOGGER -->
<script>
(function(){
function send(data){
  fetch("/log",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify(data)
  }).catch(()=>{});
}

window.onerror = function(msg,url,line,col,error){
  send({type:"error",message:msg,file:url,line:line,stack:error?.stack});
};

const oldLog = console.log;
console.log = function(...args){
  oldLog.apply(console,args);
  send({type:"log",message:args.join(" ")});
};
})();
</script>

</body>
</html>
